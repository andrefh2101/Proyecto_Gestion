<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Matriz de Evaluaci√≥n</title>
  <link rel="stylesheet" href="/css/estiloevaluacion.css">
</head>

<body>

<header class="header">
  <h2 id="tituloSubcategoria">Matriz de Evaluaci√≥n</h2>
</header>

<!-- ===== PROGRESO ===== -->
<section class="progreso">
  <div class="progreso-header">
    <span>Porcentaje de completaci√≥n</span>
    <strong id="porcentajeTexto">0%</strong>
  </div>

  <div class="barra">
    <div id="barraProgreso" class="barra-inner red">0%</div>
  </div>
</section>

<!-- ===== MATRIZ ===== -->
<main class="contenedor">

<table class="matriz">
  <thead>
    <tr>
      <th>√çtem</th>
      <th>Cumpli√≥</th>
      <th>Descripci√≥n</th>
      <th>Observaciones</th>
      <th>Fecha</th>
      <th>Evidencia</th>
    </tr>
  </thead>

  <tbody id="contenedorTablas">
    <!-- evaluacion.js inserta aqu√≠ las filas -->
  </tbody>
</table>

</main>

<!-- ===== ACCIONES ===== -->
<div class="acciones">
  <button id="btnVolver" class="secondary-btn">‚¨Ö Volver</button>
  <button id="btnGuardar" class="primary-btn">üíæ Guardar Evaluaci√≥n</button>
</div>

<!-- ===== MODAL ALERTA ===== -->
<div id="alertaModal" class="modal">
  <div class="modal-content">
    <div class="modal-icon success">‚úî</div>
    <h3 id="alertaTitulo">Correcto</h3>
    <p id="alertaMensaje">Mensaje</p>
    <button id="alertaBtn" class="primary-btn">Aceptar</button>
  </div>
</div>

<script src="evaluacion.js"></script>

<script>
  const query = new URLSearchParams(window.location.search);
  const area = query.get("area");
  const proyecto = query.get("proyecto");
  const nombre = query.get("nombre");

  if (nombre) {
    document.getElementById("tituloSubcategoria").textContent = nombre;
  }

  document.getElementById("btnVolver").addEventListener("click", () => {
    window.location.href = `/subcategorias.html?area=${area}&proyecto=${proyecto}`;
  });
</script>

</body>
</html>
